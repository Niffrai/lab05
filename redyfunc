CREATE OR REPLACE FUNCTION api.get_cities(country_id INTEGER) RETURNS TABLE (identifier INTEGER, description CHARACTER VARYING(50)) AS $$
BEGIN
    RETURN QUERY
    SELECT city.identifier, city.description
    FROM data.city
    WHERE data.city.country = country_id;
END;
$$ LANGUAGE plpgsql;
//////2
CREATE OR REPLACE FUNCTION api.get_city_location() RETURNS TABLE (identifier INTEGER, latitude DOUBLE PRECISION, longitude DOUBLE PRECISION) AS $$
BEGIN
    RETURN QUERY
    SELECT city.identifier, city.latitude, city.longitude
    FROM data.city;
END;
$$ LANGUAGE plpgsql;
/////4
CREATE OR REPLACE FUNCTION api.get_countries(region_id INTEGER) RETURNS TABLE (identifier INTEGER, description CHARACTER VARYING) AS $$
BEGIN
    RETURN QUERY
    SELECT data.country.identifier, data.country.description
    FROM data.country
    INNER JOIN data.region ON data.country.region = data.region.identifier
    WHERE data.region.identifier = region_id;
END;
$$ LANGUAGE plpgsql;
//////
