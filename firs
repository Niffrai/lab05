CREATE OR REPLACE FUNCTION api.get_temperature_readings(city_id INTEGER, start_date DATE, end_date DATE)
RETURNS TABLE (timestamp TIMESTAMP, temperature NUMERIC) AS $$
BEGIN
    RETURN QUERY
    SELECT mark, temperature
    FROM data.measurement_all
    WHERE city = city_id
        AND mark >= start_date
        AND mark <= end_date;
END;
$$ LANGUAGE plpgsql;
