CREATE OR REPLACE FUNCTION api.get_country_cities_count()
RETURNS TABLE (country_id INTEGER, city_count INTEGER) AS $$
BEGIN
    RETURN QUERY
    SELECT data.city.country, COUNT(*) AS city_count
    FROM data.city
    GROUP BY data.city.country;
END;
$$ LANGUAGE plpgsql;
